# Attack

## Overview

This is an attack package for speaker recognition.

It currently supports black-box attack and white-box attack.

The white-box attack includes PGD, and the black-box attack includes FAKEBOB, Transfer attack, and Ensemble attack.

The following will introduce these attacks in turn.

All attack parameters can be set in attack_config.py.

## Quick Start

### PGD Attack

The PGD main attack script is **attackMain.py**.

The configuration file is **attack_config.py**.

1. Set PGD attack parameters in attack_config.py (default parameters are recommended).
2. Set **Dataset**, ASVspoof2019 and VoxCeleb1Verification are supported.
3. Set **Model**, ResNetSE34V2, ECAPATDNN, RawNet3 and XVEC are supported.
4. Run attack py linux command sh attackjob.sh

### FAKEBOB Attack

1. Attack pipeline is the same as PGD attack.
2. In FakeBob attack, the threshold is estimated by the algorithm, so you should save the threshold in the attack process.

### Ensemble Attack

The Ensemble Transfer attack script is **ensemble_attack.py**.

The configuration file is **ensemble_attack_config.py**.

Different From PGD, you should set multi models in ensemble_attack_config.py (if only one model, it is PGD attack).

### Transfer Attack

Attack models by adversarial examples generated by other models.

The Transfer attack script is **transferAttack.py**.

The configuration file is **transfer_attack_config.py**.

In the configuration file, you should set the attack sample dirs and defence model (support multi adversarial samples and defence models).

Note that in each attack sample dir, there has an attack result file, named **attackResult.txt**,
which contains the attack result of each sample attacked by the method as mentioned above, such as

```python
PA_T_0005009_PA_T_0004411
True
# PA_T_0005009 is the enrollment sample id, PA_T_0004411 is the evaluation sample id, True means the attack is successful.
# and PA_T_0005009_PA_T_0004411 is the key of adversarial sample.
```

We use this file to read the adversarial sample and attack the defence model.